---
title: "Wrangling larger-than-memory data in R"
author: "Renata Diaz"
format: 
  uaz-revealjs:
      logo: "_extensions/cct-datascience/uaz/logo.png"
editor: source
---

## ⏰ Schedule ⏰ {.smaller}

::: notes
remember to record
:::

| Topic                                    | Time          |
|:-----------------------------------------|:--------------|
| Welcome & intros                         | 11:00 - 11:05 |
| (Really) big data in R: the landscape    | 11:05 - 11:10 |
| Data storage and access with `arrow`     | 11:15 - 11:30 |
| `dplyr` wrangling with `arrow`           | 11:35 - 11:50 |
| BREAK                                    | 11:50 - 12:00 |
| Data storage and wrangling with `duckdb` | 12:00 - 12:20 |
| `arrow` and `duckdb`                     | 12:20-12:25   |
| When to use what                         | 12:25-12:30   |
| Side quests and wrap up                  | 12:30-1       |

# Welcome!

## CCT Data Science Team

#### Supporting reproducible research, data pipelines, and software development in ALVSCE

::: incremental
-   Workshops
-   Drop-in hours
-   "Incubator" program
-   Longer-term collaborations
-   Learn more: <https://datascience.cct.arizona.edu>
:::

## Before we get started

::: incremental
-   These slides (and links!) are available at: NEW LINK HERE
-   Please make sure you have R and RStudio installed
:::

## Background assumptions

::: incremental
-   You do at least some of your data wrangling + analysis in R
-   You use `dplyr` and `tidyr` (and you like it!)
-   Some of your datasets are too large to handle efficiently in R
:::

## Learning objectives

::: incremental
-   Understand the landscape of tools available for big data in R
-   Store and access datasets using the `arrow` and `duckdb` packages
-   Scale up `dplyr` pipelines using `arrow` and `duckdb`
-   Understand which tools are suited to which tasks, and where to look for more resources
:::

# Big data in R

## The (abbreviated) landscape

![](options_files/figure-commonmark/unnamed-chunk-2-1.png){width="100%"}{fig-alt="A plot placing different options for data wrangling in R along axes of ease of use and size of data. dplyr and tidyr are easy to use but can only handle small datasets. External data wrangling tools, and DBI plus SQL, can handle big data but are hard to use. arrow and duckdb can handle large amounts of data and are easy to use."}

## Apache arrow

## duckdb

# Using arrow in R

## arrow data formats

## Single-file datasets

## Dataset schemas

## Multi-file datasets

## dplyr pipelines in arrow

# Break

# Using duckdb in R

## .duckdb databases

## dplyr pipelines in duckdb

## `duckplyr`

# `arrow` + `duckdb`: Stronger together

## `arrow::to_duckdb`

# When these tools aren't enough

## DBI

## Choosing your tools

| `arrow`                             | `duckdb`                  | `DBI`                           |
|------------------------|------------------------|------------------------|
| Focus on one big table              | Multiple related tables   | Specialized/advanced operations |
| `dplyr`-focused workflow            | `dplyr` + reshaping       |                                 |
| High value on data interoperability | .duckdb format acceptable |                                 |
#### ✨ You can use multiple tools within one workflow!✨ 

# Side quests

## Access data over the web

## Spatial data

# Resources

## CCT Data Science opportunities

::: incremental
-   Drop-in hours - Tuesdays, 9-10
-   Incubator projects
-   Upcoming workshops
:::

## Data science \@ UA

::: incremental
-   [Research Bazaar Arizona](https://researchbazaar.arizona.edu/)
    -   Coffee & Code
    -   Hack Hour
-   UA Data Science Slack
    -   Sign up here: <https://jcoliver.github.io/uadatascience-slack/user-guide.html>
-   [UA Libraries Data & Viz Drop-In Hours](https://libcal.library.arizona.edu/event/10712327?_gl=1*23qnh9*_ga*MTcwMzYxNDQwNC4xNjk4MTYyODA2*_ga_7PV3540XS3*MTcwMTgwODgyNy44My4xLjE3MDE4MDk0OTUuMjkuMC4w)
-   UA Data Science Institute
:::

# Thank you!

Thank you for attending!

For details on drop-in hours, upcoming workshops, and Incubator Program offerings from CCT-Data Science, see our [website](https://datascience.cct.arizona.edu)!
